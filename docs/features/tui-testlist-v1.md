# TUI テストリスト（Red-Green-Refactor 起点）

初版: 2025-08-29 / 更新: 2025-08-30（現状反映）

## 単体（ドメイン/ユースケース）
- [x] ESD計算: `now=09:00`, 見積=30+60+15 → `ESD=10:45`
- [x] アクティブ単一性: `start(A)`中に`start(B)`→`A=paused, B=active`
- [x] セッション累積: `10m + 15m` → 実績 `25m`
- [x] 見積編集: `20m→25m` で ESD が +5m 反映
- [x] 持越し: `p` 実行で Future へ移動
- [x] 通常作成: `i` で新規タスク生成（開始しない）
- [x] 割込: `I` で新規タスク生成（開始しない）
- [x] 入力モード: `i/I` → 入力/Backspace/Enter追加/Esc取消、日本語貼り付け
- [ ] 完了同期（外部API）
- [x] ログ出力整形: `tc-log` 形式の文字列生成

## 統合（Todoist 同期）
- [ ] 今日のタスク取得フィルタが期待通り
- [ ] コメント追記フォーマットが一致
- [ ] オフライン時のローカルキュー → 後続同期

## UI（TUIレンダリング/入出力）
- [x] ヘッダの合計/ESD/日付表示
- [x] Start/Pause/Resume/Finish の操作が状態/ログに反映
- [x] Reorder（`[`/`]`）で順序と Plan 列が更新
- [x] Estimate ステッパー（±5m / j,k / 右クリック）
- [x] ヘルプ行（横幅に応じて折返し）
- [x] タブ（Past/Today/Future）の表示とホバー/クリック領域
- [ ] 詳細ペインのトグルとセッション一覧表示

## 受け入れシナリオ（エンドツーエンド像）
- [ ] 朝の準備: （将来）Todoist 取得→見積補正→ESD確認
- [ ] 実行: Start→割込→復帰→Finish→（将来）コメント反映
- [ ] 越日: 22:00 時点で未完を `p` で翌日へ持越し
- [ ] ルーチン: 当日生成→完了→次回見積が更新（将来）

> このテストリストから1件ずつ Red（失敗）→Green→Refactor を回す。詳細ケースは実装時に追加。
