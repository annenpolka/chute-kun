# TUI テストリスト（Red-Green-Refactor 起点）

*初版: 2025-08-29*

## 単体（ドメイン/ユースケース）
- [ ] ESD計算: `now=09:00`, 残=30+60+15 → `ESD=10:45`
- [ ] アクティブ単一性: `start(A)`中に`start(B)`→`A=paused, B=active`
- [ ] セッション累積: `10m + 15m` → 実績 `25m`
- [ ] 見積編集: `20m→25m` で ESD が +5m 反映
- [ ] 持越し: `p` 実行で DayPlan(date+1) へ移動
- [ ] 通常作成: `i` で新規タスク生成（開始しない）
- [ ] 割込: `I` で新規タスク生成（開始しない）
- [ ] 完了同期: `finish` で Todoist 完了API呼び出し（設定オン時）
- [ ] ログ出力整形: `tc-log` 形式の文字列生成

## 統合（Todoist 同期）
- [ ] 今日のタスク取得フィルタが期待通り
- [ ] コメント追記フォーマットが一致
- [ ] オフライン時のローカルキュー → 後続同期

## UI（TUIレンダリング/入出力）
- [ ] ヘッダの合計/ESD表示が更新される
- [ ] Start/Pause/Resume/Finish のキー操作が状態/ログに反映
- [ ] Reorder（↑/↓）で順序とETAが再計算
- [ ] 詳細ペインのトグルとセッション一覧表示

## 受け入れシナリオ（エンドツーエンド像）
- [ ] 朝の準備: 今日タスク取得→見積補正→ESD確認
- [ ] 実行: Start→割込→復帰→Finish→コメント反映
- [ ] 越日: 22:00 時点で未完を `p` で翌日へ持越し
- [ ] ルーチン: 当日生成→完了→次回見積が更新

> このテストリストから1件ずつ Red（失敗）→Green→Refactor を回す。詳細ケースは実装時に追加。
