# コミット戦略

*最終更新日: 2025-03-01*

## 基本方針

TaskChuteプロジェクトの開発進行において、次のコミット戦略を採用します。この戦略は効率的な開発フローと変更履歴の明確な追跡を目的としています。

## コミットの粒度

以下の原則に基づいて、自動的かつ適切な粒度でコミットを実施します：

1. **機能単位**
   - 1つの機能実装が完了した時点でコミット
   - Red-Green-Refactorサイクルが一巡した時点でコミット
   - 機能が大きい場合は、論理的にまとまった部分ごとに分割

2. **テストコード**
   - テスト先行開発に基づき、テストコードが一通り書けた段階でコミット
   - テストの大幅な追加・修正時にコミット

3. **設定変更**
   - 開発環境の設定ファイル追加・変更時
   - 依存関係の追加・更新時
   - ビルド設定の変更時

4. **ドキュメント**
   - 新しいドキュメントの追加時
   - 既存ドキュメントの大幅な更新時
   - ADRの追加・更新時

5. **リファクタリング**
   - コード構造の改善
   - パフォーマンス最適化
   - 命名規則の統一やコードスタイルの修正

## コミットメッセージ規約

コミットメッセージは以下のフォーマットに従います：

```
<type>: <簡潔な概要>

<詳細な説明（必要な場合のみ）>

🤖 Generated with [Claude Code](https://claude.ai/code)
Co-Authored-By: Claude <noreply@anthropic.com>
```

typeの種類:
- `feat`: 新機能
- `fix`: バグ修正
- `docs`: ドキュメントのみの変更
- `style`: コードの意味に影響しない変更（空白、フォーマットなど）
- `refactor`: バグ修正や機能追加ではないコード変更
- `test`: テストコードの追加・修正
- `chore`: ビルドプロセスやツール、ライブラリの変更

## マージ戦略

1. 開発ブランチは必要に応じて作成（機能追加・バグ修正など）
2. 開発ブランチの命名規則: `{type}/{feature-name}`
3. 開発完了後、テストが通ることを確認の上mainにマージ

## 自動コミット

開発作業中は、上記の粒度とメッセージ規約に従って、ユーザーに確認することなく自動的にコミットを実施します。これにより、開発フローの中断を最小限に抑え、効率的な進行を確保します。